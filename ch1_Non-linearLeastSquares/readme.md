â€œæ®‹å·®â€ï¼ˆ**residual**ï¼‰æ˜¯ä¸€ä¸ªåœ¨ä¼˜åŒ–ã€SLAMã€æ›²çº¿æ‹Ÿåˆç­‰é¢†åŸŸä¸­éå¸¸æ ¸å¿ƒçš„æ¦‚å¿µï¼Œå®ƒè¡¨ç¤º **æ¨¡å‹çš„é¢„æµ‹å€¼ä¸çœŸå®è§‚æµ‹å€¼ä¹‹é—´çš„è¯¯å·®**ã€‚

---

## âœ… ç®€å•ç†è§£

ä½ å¯ä»¥æŠŠ **æ®‹å·®çœ‹æˆâ€œæ²¡å¯¹ä¸Šå·®äº†å¤šå°‘â€**ã€‚

### ä¸¾ä¸ªä¾‹å­ï¼š

å‡è®¾ä½ è¦æ‰¾ä¸€ä¸ªå˜é‡ `x`ï¼Œå¸Œæœ›æ»¡è¶³è¿™ä¸ªç›®æ ‡ï¼š

> $x = 10$

ä½†ä½ ä¸€å¼€å§‹çŒœçš„æ˜¯ $x = 0.5$ï¼Œé‚£å°±â€œå·®äº† 9.5â€ï¼Œè¿™ 9.5 å°±æ˜¯æ®‹å·®ï¼š

$$
\text{æ®‹å·®} = 10 - x = 9.5
$$

---

## âœ… æ®‹å·®åœ¨ä¼˜åŒ–ä¸­çš„æ„ä¹‰

ä¼˜åŒ–ç®—æ³•ï¼ˆæ¯”å¦‚ Ceres Solverï¼‰ä¸ç›´æ¥æœ€å°åŒ–â€œè¯¯å·®â€ï¼Œè€Œæ˜¯æœ€å°åŒ– **æ®‹å·®çš„å¹³æ–¹å’Œï¼ˆsum of squared residualsï¼‰**ï¼š

$$
\text{cost} = \frac{1}{2} \sum (\text{æ®‹å·®})^2
$$

æ‰€ä»¥ï¼š

* æ®‹å·®è¶Šå°ï¼Œè¡¨ç¤ºæ¨¡å‹è¶Šå‡†ç¡®ï¼›
* æœ€å°åŒ–æ®‹å·®çš„å¹³æ–¹ï¼Œå°±æ˜¯è®©æˆ‘ä»¬çš„æ¨¡å‹å°½é‡â€œæ‹Ÿåˆâ€çœŸå®æ•°æ®ã€‚

---

## âœ… åœ¨ SLAM ä¸­çš„æ®‹å·®

åœ¨ SLAM æˆ– Bundle Adjustmentï¼ˆBAï¼‰ä¸­ï¼Œæ®‹å·®ä¸€èˆ¬æ˜¯ï¼š

* ä½ç½®è¯¯å·®ï¼ˆé‡Œç¨‹è®¡å’Œå®é™…ä½ç½®ä¹‹é—´çš„å·®ï¼‰ï¼›
* æŠ•å½±è¯¯å·®ï¼ˆåœ°å›¾ç‚¹æŠ•å½±åˆ°ç›¸æœºå›¾åƒä¸Šçš„ç‚¹ï¼Œä¸è§‚æµ‹åƒç´ ä½ç½®çš„å·®ï¼‰ï¼›
* è§’åº¦è¯¯å·®ï¼ˆå§¿æ€ä¼°è®¡å’Œè§‚æµ‹ä¹‹é—´çš„å·®ï¼‰ï¼›

ä¾‹å¦‚ï¼ŒBundle Adjustment çš„ä¸€ä¸ªå¸¸è§æ®‹å·®ï¼š

$$
\text{æ®‹å·®} = \text{è§‚æµ‹å›¾åƒåæ ‡} - \text{æŠ•å½±çš„ä¸‰ç»´ç‚¹å›¾åƒåæ ‡}
$$

---

## âœ… å›¾ç¤ºå¸®åŠ©ç†è§£ï¼ˆç”¨æ‹Ÿåˆä¸ºä¾‹ï¼‰

å‡è®¾ä½ æœ‰ä¸€å †ç‚¹ï¼Œæƒ³ç”¨ä¸€æ¡ç›´çº¿å»æ‹Ÿåˆå®ƒä»¬ï¼š

```
ç‚¹:         o
                o
      o
           o
æ‹Ÿåˆçº¿:    ----------------

æ¯ä¸ªç‚¹å’Œçº¿ä¹‹é—´å‚ç›´çš„è·ç¦»ï¼Œå°±æ˜¯æ®‹å·®ã€‚
```

---

## âœ… æ€»ç»“

| åç§°        | æ„ä¹‰                                     |
| --------- | -------------------------------------- |
| æ®‹å·®        | æ¨¡å‹è¾“å‡ºå€¼ä¸çœŸå®è§‚æµ‹å€¼ä¹‹é—´çš„è¯¯å·®                       |
| ç›®æ ‡        | æœ€å°åŒ–æ‰€æœ‰æ®‹å·®çš„å¹³æ–¹å’Œï¼ˆéçº¿æ€§æœ€å°äºŒä¹˜ï¼‰                   |
| åœ¨ Ceres ä¸­ | ç”¨ `residual[0] = ...` å®šä¹‰æ®‹å·®å³å¯ï¼Œå…¶ä»–äº¤ç»™ä¼˜åŒ–å™¨å¤„ç† |

---

è¿™å¥ä»£ç ï¼š

```cpp
options.linear_solver_type = ceres::DENSE_QR;
```

æ˜¯ **Ceres Solver** ä¸­è®¾ç½® **çº¿æ€§æ±‚è§£å™¨ï¼ˆlinear solverï¼‰ç±»å‹** çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå®šä¹‰äº†åœ¨æ¯ä¸€æ¬¡è¿­ä»£ä¸­ï¼ŒCeres ç”¨å“ªç§æ–¹æ³•æ¥æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„ï¼ˆé€šå¸¸æ˜¯é›…å¯æ¯”çŸ©é˜µç›¸å…³çš„æ­£è§„æ–¹ç¨‹ï¼‰ã€‚

------------------


##  èƒŒæ™¯ï¼šéçº¿æ€§æœ€å°äºŒä¹˜æ˜¯æ€ä¹ˆæ±‚çš„ï¼Ÿ

Ceres æ˜¯æ±‚è§£éçº¿æ€§æœ€å°äºŒä¹˜é—®é¢˜çš„ï¼Œå®ƒé€šè¿‡è¿­ä»£ï¼Œæ¯æ¬¡éƒ½è¦è§£ä¸€ä¸ªçº¿æ€§å­é—®é¢˜ï¼š

$$
J^T J \Delta x = -J^T r
$$

å…¶ä¸­ï¼š

* $J$ï¼šé›…å¯æ¯”çŸ©é˜µï¼ˆJacobianï¼‰
* $r$ï¼šæ®‹å·®å‘é‡
* $\Delta x$ï¼šå½“å‰å˜é‡çš„æ›´æ–°é‡

è¿™ä¸ªçº¿æ€§æ–¹ç¨‹ç»„çš„è§£æ³•å°±å« **çº¿æ€§æ±‚è§£å™¨ï¼ˆlinear solverï¼‰**ã€‚

---

##  `DENSE_QR` æ˜¯ä»€ä¹ˆï¼Ÿ

`DENSE_QR` è¡¨ç¤ºä½¿ç”¨ **ç¨ å¯†çŸ©é˜µçš„ QR åˆ†è§£** æ¥è§£çº¿æ€§æ–¹ç¨‹ï¼š

* **DENSE**ï¼šçŸ©é˜µæ˜¯å°è€Œå¯†é›†çš„ï¼ˆä¸æ˜¯ç¨€ç–çŸ©é˜µï¼‰ï¼Œé€šå¸¸é€‚ç”¨äºå°è§„æ¨¡é—®é¢˜ï¼›
* **QR åˆ†è§£**ï¼šæ¯” `Cholesky` æ›´ç¨³å®šï¼Œé€‚ç”¨äºæ¡ä»¶ä¸å¤ªå¥½çš„é—®é¢˜ï¼ˆæ¯”å¦‚æ–¹ç¨‹ç»„æ¥è¿‘å¥‡å¼‚ï¼‰ï¼›

> æ‰€ä»¥ï¼Œå¦‚æœä½ åªæ˜¯åšä¸€äº›ç®€å•çš„å­¦ä¹ æµ‹è¯•ï¼ˆæ¯”å¦‚ä¸€ä¸ªå˜é‡ï¼‰ï¼Œç”¨ `DENSE_QR` æ˜¯å¾ˆåˆé€‚çš„ã€‚

---

##  å¯é€‰çš„çº¿æ€§æ±‚è§£å™¨ç±»å‹ï¼ˆå¸¸è§ï¼‰

| ç±»å‹                       | è¯´æ˜                          | é€‚åˆåœºæ™¯            |
| ------------------------ | --------------------------- | --------------- |
| `DENSE_QR`               | ç¨ å¯†QRåˆ†è§£ï¼Œç¨³å®šæ€§å¥½ï¼Œä½†è®¡ç®—é‡å¤§           | å°è§„æ¨¡é—®é¢˜ï¼Œæ•™å­¦æ¼”ç¤º      |
| `DENSE_NORMAL_CHOLESKY`  | ç¨ å¯†Choleskyåˆ†è§£ï¼Œé€Ÿåº¦å¿«ä½†æ•°å€¼ä¸å¤ªç¨³å®š     | å°è§„æ¨¡ä½†æ•°å€¼æ¡ä»¶å¥½çš„é—®é¢˜    |
| `SPARSE_NORMAL_CHOLESKY` | ç¨€ç–Choleskyåˆ†è§£                | SLAM/BAç±»å¤§è§„æ¨¡ç¨€ç–é—®é¢˜ |
| `ITERATIVE_SCHUR`        | ç”¨äº Bundle Adjustment çš„é«˜æ•ˆè¿­ä»£æ³• | BAã€å¤§è§„æ¨¡ä¼˜åŒ–        |
| `CGNR`                   | å…±è½­æ¢¯åº¦æ³•                       | ç‰¹åˆ«å¤§çš„ç¨€ç–é—®é¢˜        |

---

##  å°ç»“

```cpp
options.linear_solver_type = ceres::DENSE_QR;
```

çš„æ„æ€æ˜¯ï¼š

> åœ¨æ¯æ¬¡éçº¿æ€§ä¼˜åŒ–è¿­ä»£ä¸­ï¼ŒCeres ç”¨ç¨ å¯† QR åˆ†è§£æ³•æ¥è§£çº¿æ€§å­é—®é¢˜ã€‚

é€‚ç”¨äºä½ è¿™ä¸ªå°å‹éçº¿æ€§é—®é¢˜ï¼ˆæ¯”å¦‚æ®‹å·®ç»´åº¦æ˜¯1ï¼Œå˜é‡ä¹Ÿæ˜¯1ï¼‰ï¼Œç®€å•ç¨³å®šï¼Œè®¡ç®—è´Ÿæ‹…å°ã€‚

---

##  Ceres ä¸­å¸¸è§ `linear_solver_type` å¯¹æ¯”

| ç±»å‹                       | åŸç†è¯´æ˜                       | é€‚ç”¨åœºæ™¯             | ä¼˜ç¼ºç‚¹       |
| ------------------------ | -------------------------- | ---------------- | --------- |
| `DENSE_QR`               | QR åˆ†è§£ï¼šæ›´ç¨³å®šï¼Œä½†è®¡ç®—é‡å¤§            | å°è§„æ¨¡é—®é¢˜ï¼Œå¦‚å­¦ä¹ ä¾‹å­      | âœ…ç¨³å®š âŒæ…¢    |
| `DENSE_NORMAL_CHOLESKY`  | æ„å»º $J^T J$ ç„¶åç”¨ Cholesky åˆ†è§£ | å°è§„æ¨¡ï¼Œæ¡ä»¶å¥½çš„é—®é¢˜       | âœ…å¿« âŒä¸ç¨³å®š   |
| `SPARSE_NORMAL_CHOLESKY` | ç¨€ç–çŸ©é˜µCholesky               | ä¸­ç­‰è§„æ¨¡ç¨€ç–é—®é¢˜ï¼Œå¦‚å°å‹SLAM | âœ…èŠ‚çœå†…å­˜ âœ…ä¸­é€Ÿ |
| `ITERATIVE_SCHUR`        | åˆ†å—å˜é‡ã€è¿­ä»£è§£æ³•ï¼ˆä¸»è¦ç”¨äº BAï¼‰         | å¤§å‹ BAï¼ˆåœ°å›¾ç‚¹å¤šï¼‰      | âœ…æ•ˆç‡æé«˜     |
| `CGNR`                   | å…±è½­æ¢¯åº¦æ³•ï¼Œé€‚åˆè¶…å¤§é—®é¢˜               | æå¤§ç¨€ç–å›¾ä¼˜åŒ–é—®é¢˜        | âœ…å†…å­˜çœ âŒæ”¶æ•›æ…¢ |

---

##  å…·ä½“ SLAM åº”ç”¨åœºæ™¯æ¯”è¾ƒ

### åœºæ™¯ï¼šä½ åœ¨åšè§†è§‰ SLAMï¼Œä½¿ç”¨ Bundle Adjustment ä¼˜åŒ–å¦‚ä¸‹å†…å®¹ï¼š

* æœ‰ 3000 ä¸ªåœ°å›¾ç‚¹ï¼›
* æœ‰ 150 å¸§å…³é”®å¸§ï¼ˆä½å§¿ï¼‰ï¼›
* æ¯å¸§çœ‹åˆ°å¤§çº¦ 100\~200 ä¸ªåœ°å›¾ç‚¹ï¼›
* æ¯ä¸ªè§‚æµ‹æ®‹å·®æ˜¯ 2 ç»´çš„ï¼ˆå›¾åƒæŠ•å½±è¯¯å·®ï¼‰ï¼›

è¿™æ—¶æˆ‘ä»¬æ„å»ºçš„éçº¿æ€§æœ€å°äºŒä¹˜é—®é¢˜å˜é‡æ•°é‡å¯èƒ½æ˜¯ï¼š

* ä½å§¿å˜é‡ç»´åº¦ï¼š150 Ã— 6 = 900ï¼›
* åœ°å›¾ç‚¹å˜é‡ç»´åº¦ï¼š3000 Ã— 3 = 9000ï¼›
* æ€»å˜é‡æ•°æ¥è¿‘ 10000 ç»´ã€‚

###  å“ªç§æ±‚è§£å™¨å¥½ï¼Ÿ

| æ±‚è§£å™¨                      | æ˜¯å¦åˆé€‚ï¼Ÿ  | åŸå›                               |
| ------------------------ | ------ | ------------------------------- |
| `DENSE_QR`               | âŒå®Œå…¨ä¸åˆé€‚ | ä¼šæ„å»ºå‡º 10000Ã—10000 çš„ç¨ å¯†çŸ©é˜µï¼Œå å†…å­˜ä¸Šç™¾ GB |
| `DENSE_NORMAL_CHOLESKY`  | âŒåŒæ ·ä¸åˆé€‚ | æ•°å€¼ä¸ç¨³å®šã€å†…å­˜çˆ†ç‚¸                      |
| `SPARSE_NORMAL_CHOLESKY` | âœ…å¯ç”¨    | å¦‚æœä½¿ç”¨ç¨€ç–æ€§ï¼Œå¯ä»¥é«˜æ•ˆæ±‚è§£                  |
| `ITERATIVE_SCHUR`        | âœ…éå¸¸åˆé€‚  | ä¸“é—¨ä¸º BA ä¼˜åŒ–è®¾è®¡ï¼Œæ‹†åˆ†å˜é‡ç»“æ„ï¼Œé«˜æ•ˆè®¡ç®—         |
| `CGNR`                   | å¯èƒ½ âœ…   | æ›´é€‚åˆå†…å­˜æä¸ºç´§å¼ çš„è¶…å¤§åœ°å›¾ä¼˜åŒ–                |

### Ceres æ¨èï¼šä½¿ç”¨ `ITERATIVE_SCHUR`ï¼

```cpp
options.linear_solver_type = ceres::ITERATIVE_SCHUR;
```

æ­¤å¤–ï¼Œä¸ºæå‡ç¨€ç–æ•ˆç‡ï¼š

```cpp
options.preconditioner_type = ceres::JACOBI;
options.use_explicit_schur_complement = false;
```

---

##  å¦‚æœä½ æ˜¯åš 2D/3D æ¿€å…‰ SLAMï¼Ÿ

ä½¿ç”¨ `SPARSE_NORMAL_CHOLESKY` å¯èƒ½æ›´åˆé€‚ï¼š

```cpp
options.linear_solver_type = ceres::SPARSE_NORMAL_CHOLESKY;
```

å‰ææ˜¯ä½ ç³»ç»Ÿè£…äº†æ”¯æŒç¨€ç–çº¿æ€§ä»£æ•°åº“ï¼ˆæ¯”å¦‚ `SuiteSparse`, `CXSparse`ï¼‰ï¼Œå¦åˆ™å¯èƒ½ Ceres ä¼šè‡ªåŠ¨é™çº§ã€‚

---

##  æ€»ç»“ä¸€å¥è¯ï¼š

> â—é€‰å¯¹ `linear_solver_type` å¯ä»¥æ˜¾è‘—å‡å°‘æ±‚è§£æ—¶é—´ã€å†…å­˜å ç”¨ï¼Œå¹¶æé«˜æ”¶æ•›ç¨³å®šæ€§ï¼

| è§„æ¨¡/ç›®æ ‡        | æ¨è Solver ç±»å‹             |
| ------------ | ------------------------ |
| å­¦ä¹ ã€ä¾‹å­        | `DENSE_QR`               |
| å°å‹ BA        | `SPARSE_NORMAL_CHOLESKY` |
| å¤§å‹ BA / SLAM | `ITERATIVE_SCHUR`        |
| æå¤§è§„æ¨¡ä¼˜åŒ–       | `CGNR`                   |

---

åœ¨ Ceres Solver ä¸­ï¼Œ**Numeric Derivativesï¼ˆæ•°å€¼å¯¼æ•°ï¼‰** æ˜¯åœ¨æ— æ³•æä¾›è§£æå¯¼æ•°ï¼ˆAnalytic Derivativesï¼‰æˆ–è‡ªåŠ¨å¾®åˆ†ï¼ˆAutomatic Differentiationï¼‰æ—¶ï¼Œç”¨\*\*æœ‰é™å·®åˆ†ï¼ˆfinite differenceï¼‰\*\*æ–¹æ³•è¿‘ä¼¼è®¡ç®—å¯¼æ•°çš„ä¸€ç§æ–¹å¼ã€‚

---

## ğŸ“˜ ä¸€ã€ä»€ä¹ˆæ˜¯ Numeric Derivativesï¼Ÿ

Ceres æä¾›ä¸‰ç§å¯¼æ•°è®¡ç®—æ–¹å¼ï¼š

1. **Analytic Derivativesï¼ˆè§£æå¯¼æ•°ï¼‰**ï¼šæ‰‹åŠ¨å†™å‡ºé›…å¯æ¯”çŸ©é˜µï¼ˆJacobianï¼‰ã€‚
2. **Automatic Differentiationï¼ˆè‡ªåŠ¨å¾®åˆ†ï¼‰**ï¼šCeres å†…ç½®çš„ `AutoDiffCostFunction`ã€‚
3. **Numeric Derivativesï¼ˆæ•°å€¼å¯¼æ•°ï¼‰**ï¼šCeres ç”¨ `NumericDiffCostFunction` é€šè¿‡æœ‰é™å·®åˆ†è®¡ç®—å¯¼æ•°ã€‚

ä½¿ç”¨ Numeric Derivatives çš„æˆæœ¬æœ€é«˜ï¼Œå› ä¸ºå®ƒï¼š

* éœ€è¦å¤šæ¬¡è°ƒç”¨ç”¨æˆ·å®šä¹‰çš„ cost å‡½æ•°ï¼›
* å¯¼æ•°ç²¾åº¦è¾ƒå·®ï¼Œå¯èƒ½å¼•å…¥æ•°å€¼ä¸ç¨³å®šï¼›
* æ•ˆç‡ä½ï¼Œä½†åœ¨ä¸€äº›éš¾ä»¥å¾®åˆ†çš„åœºæ™¯ä¸­æ˜¯å¯è¡Œçš„é€‰æ‹©ã€‚

---

## ğŸ› ï¸ äºŒã€ä½¿ç”¨æ–¹æ³•ï¼š`NumericDiffCostFunction`

### ç¤ºä¾‹ï¼š

```cpp
struct MyCostFunctor {
  template <typename T>
  bool operator()(const T* const x, T* residual) const {
    residual[0] = T(10.0) - x[0];
    return true;
  }
};

ceres::CostFunction* cost_function =
    new ceres::NumericDiffCostFunction<MyCostFunctor, ceres::CENTRAL, 1, 1>(
        new MyCostFunctor);
problem.AddResidualBlock(cost_function, nullptr, &x);
```

### æ¨¡æ¿å‚æ•°è¯´æ˜ï¼š

```cpp
NumericDiffCostFunction<FunctorType, DifferenceMethodType, num_residuals, parameter_block_size...>
```

* `FunctorType`ï¼šä»£ä»·å‡½æ•°ç»“æ„ä½“ï¼›
* `DifferenceMethodType`ï¼šå·®åˆ†ç±»å‹ï¼š

  * `ceres::CENTRAL`ï¼ˆä¸­å¤®å·®åˆ†ï¼Œç²¾åº¦æ›´é«˜ï¼‰ï¼›
  * `ceres::FORWARD`ï¼ˆå‰å‘å·®åˆ†ï¼Œé€Ÿåº¦æ›´å¿«ï¼‰ï¼›
* `num_residuals`ï¼šæ®‹å·®ç»´åº¦ï¼›
* `parameter_block_size...`ï¼šå‚æ•°å—ç»´åº¦ï¼Œå¯ä»¥å¤šä¸ªã€‚

---

## ğŸ§® ä¸‰ã€å·®åˆ†åŸç†ï¼ˆä¸­å¤®å·®åˆ†ä¸¾ä¾‹ï¼‰ï¼š

å¯¹æŸå‚æ•° $x_i$ï¼Œæ®‹å·®å‡½æ•°ä¸º $f(x)$ï¼Œå…¶æ•°å€¼å¯¼æ•°ä¼°ç®—ä¸ºï¼š

$$
\frac{\partial f}{\partial x_i} \approx \frac{f(x + h \cdot e_i) - f(x - h \cdot e_i)}{2h}
$$

å…¶ä¸­ $h$ æ˜¯ä¸€ä¸ªå°æ‰°åŠ¨å€¼ï¼ˆé»˜è®¤ä¸º $\sqrt{\epsilon}$ï¼Œå¯ä»¥é…ç½®ï¼‰ï¼Œ$e_i$ æ˜¯å•ä½å‘é‡ã€‚

---

## âš ï¸ å››ã€ä½¿ç”¨å»ºè®®

* ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨ **AutoDiff** æˆ– **Analytic**ï¼›
* åªæœ‰åœ¨æ— æ³•æ‰‹åŠ¨/è‡ªåŠ¨æ±‚å¯¼æ—¶æ‰ä½¿ç”¨ NumericDiffï¼›
* æ³¨æ„é…ç½®å·®åˆ†æ­¥é•¿ï¼Œé¿å…æ•°å€¼ç²¾åº¦è¯¯å·®ï¼›
* NumericDerivatives æ›´å®¹æ˜“å¼•å…¥å±€éƒ¨æœ€å°å€¼æˆ–éœ‡è¡ç°è±¡ã€‚

---


åœ¨ Ceres Solver ä¸­ï¼Œ`options.minimizer_type` æ˜¯ç”¨æ¥è®¾ç½®æ±‚è§£å™¨ä½¿ç”¨å“ªç§\*\*éçº¿æ€§æœ€å°äºŒä¹˜ä¼˜åŒ–ç­–ç•¥ï¼ˆMinimizerï¼‰\*\*çš„å…³é”®å‚æ•°ã€‚

---

### ğŸ”§ `options.minimizer_type` çš„ä½œç”¨

å®ƒå®šä¹‰äº† Ceres ä¼˜åŒ–é—®é¢˜æ—¶ä½¿ç”¨çš„ç®—æ³•å¤§ç±»ï¼Œæœ‰ä¸¤ä¸ªå¯é€‰å€¼ï¼š

| å–å€¼                    | æšä¸¾ç±»å‹                                 | å«ä¹‰                                                                 |
| --------------------- | ------------------------------------ | ------------------------------------------------------------------ |
| `ceres::TRUST_REGION` | `ceres::MinimizerType::TRUST_REGION` | **é»˜è®¤å€¼**ã€‚ä½¿ç”¨ä¿¡èµ–åŸŸæ–¹æ³•ï¼ˆå¦‚ Dogleg æˆ– Levenberg-Marquardtï¼‰è¿›è¡Œä¼˜åŒ–ã€‚é€‚ç”¨äºå¤§å¤šæ•°éçº¿æ€§ä¼˜åŒ–é—®é¢˜ã€‚ |
| `ceres::LINE_SEARCH`  | `ceres::MinimizerType::LINE_SEARCH`  | ä½¿ç”¨çº¿æœç´¢æ–¹æ³•ï¼ˆå¦‚ LBFGS æˆ–å…±è½­æ¢¯åº¦æ³•ï¼‰ï¼Œé€‚åˆå¤§è§„æ¨¡ã€ç¨€ç–é—®é¢˜ã€‚                                |

---

### âœ… è®¾ç½®æ–¹æ³•

ä½ å¯ä»¥ç›´æ¥è®¾ç½® `ceres::Solver::Options`ï¼š

```cpp
ceres::Solver::Options options;
options.minimizer_type = ceres::TRUST_REGION;  // æˆ– ceres::LINE_SEARCH
```

ä¹Ÿå¯ä»¥ç»“åˆ Abseil Flags ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°ï¼š

```cpp
// å‘½ä»¤è¡Œä¼ å‚ --minimizer=line_search æˆ– trust_region
if (!ceres::StringToMinimizerType(absl::GetFlag(FLAGS_minimizer), &options.minimizer_type)) {
    LOG(FATAL) << "Invalid minimizer type!";
}
```

---

### ğŸš€ å¸¸è§ç”¨é€”åœºæ™¯å¯¹æ¯”

| æ–¹æ³•                  | ä¼˜ç‚¹               | é€‚ç”¨åœºæ™¯                  |
| ------------------- | ---------------- | --------------------- |
| `TRUST_REGION` (é»˜è®¤) | é²æ£’ã€ç¨³å®šã€é€‚ç”¨äºå¤§å¤šæ•°é—®é¢˜   | å°ä¸­è§„æ¨¡ BAã€SLAMã€æ ‡å®šé—®é¢˜     |
| `LINE_SEARCH`       | å ç”¨å†…å­˜å°‘ã€é€‚åˆç¨€ç–æˆ–å¤§è§„æ¨¡å˜é‡ | ç¨€ç–çº¿æ€§ç³»ç»Ÿã€å¾ˆå¤šå˜é‡ä½†å°‘é‡æ®‹å·®çš„ä¼˜åŒ–é—®é¢˜ |

---

### ğŸ“Œ è¡¥å……

é»˜è®¤çš„ `Dogleg` æˆ– `Levenberg-Marquardt` æ˜¯ `TRUST_REGION` ç­–ç•¥ä¸‹çš„å­æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡è¿›ä¸€æ­¥è®¾ç½® `options.trust_region_strategy_type` æ¥é€‰æ‹©ã€‚

---

